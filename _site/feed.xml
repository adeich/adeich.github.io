<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2019-08-28T14:17:00-07:00</updated><id>/feed.xml</id><title type="html">Aaron Deich</title><subtitle>Statistics and scientific computation basics, written for people with a physics background.</subtitle><author><name>Aaron Deich</name></author><entry><title type="html">How Safe Is It To Park Over The Time Limit? A Monte Carlo Simulation</title><link href="/2019/08/12/modelling-parking-ticket-times.html" rel="alternate" type="text/html" title="How Safe Is It To Park Over The Time Limit? A Monte Carlo Simulation" /><published>2019-08-12T00:00:00-07:00</published><updated>2019-08-12T00:00:00-07:00</updated><id>/2019/08/12/modelling-parking-ticket-times</id><content type="html" xml:base="/2019/08/12/modelling-parking-ticket-times.html">&lt;p&gt;&lt;strong&gt;With careful consideration of model and parameter dependence.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;the-physical-scenario&quot;&gt;The physical scenario&lt;/h2&gt;

&lt;h3 id=&quot;parking-in-two-hour-zones-a-little-stressful&quot;&gt;Parking in two-hour zones: a little stressful.&lt;/h3&gt;

&lt;p&gt;Around my neighborhood in San Francisco, most parking spots have a two-hour time limit, enforced by little three-wheeled vehicles, keeping the local streets functioning healthily. That said, from a driver’s perspective, they are a real source of stress. If they pass by your car twice, in the same spot, and if more than two hours has passed between, they leave you a stiff, $70 ticket. Up until recently I have been very careful to move my car before the &lt;em&gt;exact&lt;/em&gt; two-hour mark. However, friends have recently pointed out to me that there are several effects of chance which make the odds of getting a ticket precisely at two-hours zero.&lt;/p&gt;

&lt;p&gt;To quantify the actual time you can park over the limit for, say, a 1% chance, or a 10% chance, I have made a simulation of ticket vehicle visits. Results are are summarized at the end.&lt;/p&gt;

&lt;h3 id=&quot;the-order-of-events-leading-to-a-ticket&quot;&gt;The order of events leading to a ticket.&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;You park your car.&lt;/li&gt;
  &lt;li&gt;After some initial time duration, the parking person first arrives at your car.&lt;/li&gt;
  &lt;li&gt;Several intermediate arrivals may occur, but if two hours hasn’t passed, nothing changes.&lt;/li&gt;
  &lt;li&gt;At the first arrival after the two-hour mark, the ticket is given.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;modeling-the-visit-times&quot;&gt;Modeling the visit times.&lt;/h2&gt;
&lt;p&gt;My model is characterized entirely by two parameters: mean visit time, &lt;script type=&quot;math/tex&quot;&gt;\mu&lt;/script&gt;, and &lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;, a description of how non-periodic the arrivals are.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Time starts at &lt;em&gt;t=0&lt;/em&gt; at the moment you park the car.&lt;/li&gt;
  &lt;li&gt;The time until the first arrival is randomly drawn from a uniform distribution &lt;script type=&quot;math/tex&quot;&gt;t_0 \sim \mathrm{uniform}[0, \mu]&lt;/script&gt;, since the phase of the parking vehicle’s loop is uncorrelated with your own arrival.&lt;/li&gt;
  &lt;li&gt;Subsequent arrival times are then given by&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;t_i \sim C + \mathrm{gamma}(a, \mu - C, \sigma),&lt;/script&gt;

&lt;ul&gt;
  &lt;li&gt;where &lt;script type=&quot;math/tex&quot;&gt;C&lt;/script&gt; is the minimum lap time (physically corresponding to duration of the parking enforcement traveling at full speed the whole way around the lap, without stopping to give tickets or for stop signs, etc.). The gamma distribution applies to processes that have a large number &lt;script type=&quot;math/tex&quot;&gt;(n \gtrapprox 50)&lt;/script&gt; of subsequent, exponentially-derived events.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The total time is computed thus:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sum = t0() # randomly drawn
while sum &amp;lt; 120: # minutes
  sum = sum + t_i()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For each iteration of the time-until-ticket simulation, we sum randomly drawn arrival times until 2 hours is exceeded; the total elapsed time is then recorded. I found that the histogram (which will begins to approximate the true &lt;a href=&quot;https://en.wikipedia.org/wiki/Probability_density_function&quot;&gt;probability density function&lt;/a&gt; (pdf) as &lt;script type=&quot;math/tex&quot;&gt;N&lt;/script&gt;  gets big, according to the &lt;a href=&quot;https://en.wikipedia.org/wiki/Law_of_large_numbers&quot;&gt;Law of Large Numbers&lt;/a&gt;), starts to stabilize around &lt;script type=&quot;math/tex&quot;&gt;N &gt; \mathrm{10,000}&lt;/script&gt;.&lt;/p&gt;

&lt;p&gt;Here is what a typical such histogram looks like:
&lt;img src=&quot;/images/parking_hist_example.png&quot; alt=&quot;CDF for long times&quot; title=&quot;title&quot; class=&quot;align-center&quot; /&gt;
Though, as discussed in the results section, below, this is not as useful a representation of the data for our purposes as a cumulative distribution function (CDF) view.&lt;/p&gt;

&lt;h2 id=&quot;implementation-details&quot;&gt;Implementation details&lt;/h2&gt;
&lt;p&gt;The Jupyter notebook containing all the code and outputs can be found in this &lt;a href=&quot;https://github.com/adeich/little_sci_comp_projects/blob/master/Modeling%20getting%20a%20parking%20ticket.ipynb&quot;&gt;GitHub repository&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;inability-to-vectorize-the-arrival-time-loops&quot;&gt;Inability to vectorize the arrival time loops&lt;/h3&gt;
&lt;p&gt;After&lt;/p&gt;

&lt;h2 id=&quot;simulation-results&quot;&gt;Simulation results&lt;/h2&gt;

&lt;p&gt;However, this view of the data does not allow us to figure out what the odds are of getting a parking ticket at specific times of being over-parked. For that, here is a plot of the CDF (cumulative distribution function), which tells you the probability (expressed as a percentage) of getting a ticket after given number of minutes after the two-hour mark.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/parking_CDF_plot_1.png&quot; alt=&quot;CDF for long times&quot; title=&quot;title&quot; class=&quot;align-center&quot; /&gt;
&lt;img src=&quot;/images/parking_CDF_plot_2.png&quot; alt=&quot;CDF for short times&quot; title=&quot;title&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;takeaways&quot;&gt;Takeaways&lt;/h2&gt;
&lt;p&gt;For a 2-hour time limit, the following rules of thumb assume that the parking checkers come by every 30 minutes and have a moderate imprecision to how consistent they keep this periodicity. Depending on model parameters, these values vary only by about 10%, which reflects a reassuring stability of predictions.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Probability of ticket&lt;/th&gt;
      &lt;th&gt;Odds of ticket&lt;/th&gt;
      &lt;th&gt;Middle-ish overstay&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;0.01&lt;/td&gt;
      &lt;td&gt;1 in 100&lt;/td&gt;
      &lt;td&gt;5 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0.05&lt;/td&gt;
      &lt;td&gt;1 in 20&lt;/td&gt;
      &lt;td&gt;11 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0.10&lt;/td&gt;
      &lt;td&gt;1 in 10&lt;/td&gt;
      &lt;td&gt;16 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0.25&lt;/td&gt;
      &lt;td&gt;1 in 4&lt;/td&gt;
      &lt;td&gt;25 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0.50&lt;/td&gt;
      &lt;td&gt;1 in 2&lt;/td&gt;
      &lt;td&gt;40 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0.75&lt;/td&gt;
      &lt;td&gt;3 in 4&lt;/td&gt;
      &lt;td&gt;70 minutes&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;In reality, parking checkers may come far more or less frequently; my results scale linearly with your observed measurements of &lt;script type=&quot;math/tex&quot;&gt;\mu&lt;/script&gt; and &lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/parking_metervehicle.png&quot; alt=&quot;parking vehicle&quot; title=&quot;title&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;</content><author><name>Aaron Deich</name></author><summary type="html">With careful consideration of model and parameter dependence.</summary></entry><entry><title type="html">A Title for a New Future</title><link href="/jekyll/update/2019/08/01/welcome-to-jekyll.html" rel="alternate" type="text/html" title="A Title for a New Future" /><published>2019-08-01T14:34:41-07:00</published><updated>2019-08-01T14:34:41-07:00</updated><id>/jekyll/update/2019/08/01/welcome-to-jekyll</id><content type="html" xml:base="/jekyll/update/2019/08/01/welcome-to-jekyll.html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints 'Hi, Tom' to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name>Aaron Deich</name></author><summary type="html">You’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.</summary></entry></feed>